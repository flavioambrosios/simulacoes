<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Simula√ß√µes com Integra√ß√£o DeepSeek</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --accent: #f39c12;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --text: #333;
            --error: #e74c3c;
            --teacher: #9b59b6;
            --student: #2ecc71;
            --simulation: #e74c3c;
            --evaluation: #f39c12;
            --latex: #8e44ad;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
            position: relative;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        h1 {
            color: var(--dark);
            margin-bottom: 10px;
        }
        
        .description {
            color: #666;
            margin-bottom: 20px;
        }
        
        .api-config {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent);
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 12px 20px;
            cursor: pointer;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
            transition: all 0.3s;
        }
        
        .tab.active {
            background-color: white;
            border-bottom: 1px solid white;
            margin-bottom: -1px;
            font-weight: bold;
        }
        
        .tab i {
            margin-right: 8px;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 5px 5px;
            background-color: white;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .form-section {
            margin-bottom: 25px;
        }
        
        h2 {
            color: var(--dark);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--dark);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-teacher {
            background-color: var(--teacher);
            color: white;
        }
        
        .btn-simulation {
            background-color: var(--simulation);
            color: white;
        }
        
        .btn-evaluation {
            background-color: var(--evaluation);
            color: white;
        }
        
        .btn-latex {
            background-color: var(--latex);
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .notification {
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            display: none;
        }
        
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .question-item {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .simulation-area {
            background-color: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .simulation-canvas {
            width: 100%;
            height: 300px;
            background-color: white;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .symbols-palette {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .symbol-btn {
            padding: 10px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }
        
        .symbol-btn:hover {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .latex-preview {
            min-height: 100px;
            padding: 20px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                margin-bottom: 5px;
            }
            
            .symbols-palette {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">üß™üî¨</div>
            <h1>Sistema de Simula√ß√µes com Integra√ß√£o DeepSeek</h1>
            <p class="description">Crie, simule e avalie experi√™ncias de aprendizagem de f√≠sica</p>
        </header>
        
        <div class="api-config">
            <h2>Configura√ß√£o da API DeepSeek</h2>
            <div class="form-group">
                <label for="apiKey">Chave da API DeepSeek</label>
                <input type="password" id="apiKey" placeholder="Cole sua chave de API aqui">
                <small>Obtenha uma chave em: <a href="https://platform.deepseek.com/" target="_blank">https://platform.deepseek.com/</a></small>
            </div>
            <button class="btn btn-primary" onclick="saveApiKey()">
                <i class="fas fa-key"></i> Salvar Chave
            </button>
        </div>
        
        <div class="tabs">
            <div class="tab active" onclick="showTab('teacher')">
                <i class="fas fa-chalkboard-teacher"></i> Professor
            </div>
            <div class="tab" onclick="showTab('latex')">
                <i class="fas fa-square-root-alt"></i> Editor LaTeX
            </div>
            <div class="tab" onclick="showTab('deepseek')">
                <i class="fas fa-robot"></i> DeepSeek
            </div>
            <div class="tab" onclick="showTab('simulation')">
                <i class="fas fa-rocket"></i> Simula√ß√£o
            </div>
        </div>
        
        <!-- ABA DO PROFESSOR -->
        <div id="teacherTab" class="tab-content active">
            <h2>Criar Nova Simula√ß√£o</h2>
            
            <div class="form-group">
                <label for="simulationTitle">T√≠tulo da Simula√ß√£o</label>
                <input type="text" id="simulationTitle" placeholder="Ex: Leis de Newton - Movimento">
            </div>
            
            <div class="form-group">
                <label for="simulationDescription">Descri√ß√£o</label>
                <textarea id="simulationDescription" rows="3" placeholder="Descreva os objetivos de aprendizagem..."></textarea>
            </div>
            
            <div class="form-group">
                <label for="simulationEquation">Equa√ß√£o Principal</label>
                <div class="input-with-button">
                    <input type="text" id="simulationEquation" placeholder="Clique para editar com LaTeX" readonly>
                    <button class="btn btn-latex" onclick="openLatexEditor()">
                        <i class="fas fa-edit"></i> Editar com LaTeX
                    </button>
                </div>
            </div>
            
            <button class="btn btn-teacher" onclick="saveSimulation()">
                <i class="fas fa-save"></i> Salvar Simula√ß√£o
            </button>
        </div>
        
        <!-- ABA DO EDITOR LaTeX -->
        <div id="latexTab" class="tab-content">
            <h2>Editor de Equa√ß√µes LaTeX</h2>
            
            <div class="form-group">
                <label>Paleta de S√≠mbolos</label>
                <div class="symbols-palette">
                    <button class="symbol-btn" onclick="insertSymbol('\\alpha')">Œ±</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\beta')">Œ≤</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\gamma')">Œ≥</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\Delta')">Œî</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\theta')">Œ∏</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\pi')">œÄ</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\mu')">Œº</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\rho')">œÅ</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\frac{}{}')">¬Ω</button>
                    <button class="symbol-btn" onclick="insertSymbol('^{}')">x¬≤</button>
                    <button class="symbol-btn" onclick="insertSymbol('_{}')">x‚ÇÅ</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\sqrt{}')">‚àö</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\sum')">‚àë</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\int')">‚à´</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\pm')">¬±</button>
                    <button class="symbol-btn" onclick="insertSymbol('\\cdot')">¬∑</button>
                </div>
            </div>
            
            <div class="form-group">
                <label for="latexInput">C√≥digo LaTeX</label>
                <textarea id="latexInput" rows="4" placeholder="Digite o c√≥digo LaTeX aqui...">F = m \cdot a</textarea>
            </div>
            
            <button class="btn btn-primary" onclick="updateLatexPreview()">
                <i class="fas fa-sync-alt"></i> Atualizar Visualiza√ß√£o
            </button>
            
            <div class="form-group">
                <label>Pr√©-visualiza√ß√£o</label>
                <div class="latex-preview">
                    <div id="latexPreview">$$F = m \cdot a$$</div>
                </div>
            </div>
            
            <button class="btn btn-latex" onclick="applyLatexEquation()">
                <i class="fas fa-check"></i> Aplicar Equa√ß√£o
            </button>
        </div>
        
        <!-- ABA DO DEEPSEEK -->
        <div id="deepseekTab" class="tab-content">
            <h2>Gerador de Quest√µes com DeepSeek</h2>
            
            <div class="form-group">
                <label for="deepseekTopic">T√≥pico da Simula√ß√£o</label>
                <input type="text" id="deepseekTopic" placeholder="Ex: Leis de Newton, Circuitos El√©tricos">
            </div>
            
            <div class="form-group">
                <label for="deepseekEquation">Equa√ß√£o Principal</label>
                <input type="text" id="deepseekEquation" placeholder="Ex: F = m * a">
            </div>
            
            <div class="form-group">
                <label for="questionType">Tipo de Quest√µes</label>
                <select id="questionType">
                    <option value="conceituais">Conceituais</option>
                    <option value="calculos">C√°lculos</option>
                    <option value="aplicacao">Aplica√ß√£o</option>
                    <option value="desafio">Desafio</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="questionCount">N√∫mero de Quest√µes</label>
                <input type="number" id="questionCount" min="1" max="10" value="3">
            </div>
            
            <div class="form-group">
                <label for="difficultyLevel">N√≠vel de Dificuldade</label>
                <select id="difficultyLevel">
                    <option value="f√°cil">F√°cil</option>
                    <option value="m√©dio">M√©dio</option>
                    <option value="dif√≠cil">Dif√≠cil</option>
                </select>
            </div>
            
            <button class="btn btn-primary" id="generateBtn" onclick="generateQuestionsWithDeepSeek()">
                <i class="fas fa-cogs"></i> Gerar Quest√µes com DeepSeek
            </button>
            
            <div class="loading" id="deepseekLoading">
                <div class="spinner"></div>
                <p>Conectando com DeepSeek API...</p>
            </div>
            
            <div id="questionsResult" style="display: none;">
                <h2>Quest√µes Geradas pela DeepSeek</h2>
                <div id="generatedQuestions">
                    <!-- Quest√µes ser√£o inseridas aqui -->
                </div>
                
                <button class="btn btn-secondary" onclick="saveQuestions()">
                    <i class="fas fa-save"></i> Salvar Quest√µes
                </button>
            </div>
        </div>
        
        <!-- ABA DE SIMULA√á√ÉO -->
        <div id="simulationTab" class="tab-content">
            <h2>Simula√ß√£o de F√≠sica</h2>
            
            <div class="simulation-area">
                <h3>Leis de Newton - Segunda Lei</h3>
                <p>Ajuste os par√¢metros para visualizar a rela√ß√£o entre for√ßa, massa e acelera√ß√£o</p>
                
                <div class="simulation-canvas">
                    <canvas id="physicsCanvas" width="600" height="250"></canvas>
                </div>
                
                <div class="form-group">
                    <label for="forceSlider">For√ßa: <span id="forceValue">50</span> N</label>
                    <input type="range" id="forceSlider" min="0" max="100" value="50">
                </div>
                
                <div class="form-group">
                    <label for="massSlider">Massa: <span id="massValue">10</span> kg</label>
                    <input type="range" id="massSlider" min="1" max="20" value="10">
                </div>
                
                <div class="form-group">
                    <label for="accelerationValue">Acelera√ß√£o (m/s¬≤)</label>
                    <input type="text" id="accelerationValue" value="5.0" readonly>
                </div>
                
                <button class="btn btn-simulation" onclick="calculatePhysics()">
                    <i class="fas fa-calculator"></i> Calcular
                </button>
            </div>
        </div>
        
        <div id="notification" class="notification"></div>
    </div>

    <script>
        // Vari√°veis globais
        let currentEquation = "F = m \\cdot a";
        let simulations = [];
        let apiKey = "";
        
        // Inicializa√ß√£o
        function init() {
            showTab('teacher');
            setupSimulationCanvas();
            loadApiKey();
        }
        
        // Carregar chave da API salva
        function loadApiKey() {
            const savedApiKey = localStorage.getItem('deepseek_api_key');
            if (savedApiKey) {
                document.getElementById('apiKey').value = savedApiKey;
                apiKey = savedApiKey;
                showNotification('Chave da API carregada com sucesso!', 'success');
            }
        }
        
        // Salvar chave da API
        function saveApiKey() {
            apiKey = document.getElementById('apiKey').value;
            if (!apiKey) {
                showNotification('Por favor, insira uma chave de API v√°lida.', 'error');
                return;
            }
            
            localStorage.setItem('deepseek_api_key', apiKey);
            showNotification('Chave da API salva com sucesso!', 'success');
        }
        
        // Mostrar aba espec√≠fica
        function showTab(tabId) {
            // Ocultar todas as abas
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Mostrar aba selecionada
            document.getElementById(tabId + 'Tab').classList.add('active');
            
            // Atualizar navega√ß√£o
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelector(`.tab:nth-child(${getTabIndex(tabId)})`).classList.add('active');
        }
        
        // Obter √≠ndice da aba com base no ID
        function getTabIndex(tabId) {
            const tabItems = {
                'teacher': 1,
                'latex': 2,
                'deepseek': 3,
                'simulation': 4
            };
            
            return tabItems[tabId] || 1;
        }
        
        // Configurar canvas de simula√ß√£o
        function setupSimulationCanvas() {
            const canvas = document.getElementById('physicsCanvas');
            const ctx = canvas.getContext('2d');
            
            // Configurar listeners para os controles
            document.getElementById('forceSlider').addEventListener('input', function() {
                document.getElementById('forceValue').textContent = this.value;
            });
            
            document.getElementById('massSlider').addEventListener('input', function() {
                document.getElementById('massValue').textContent = this.value;
            });
            
            // Desenhar simula√ß√£o inicial
            drawSimulation(ctx, 50, 10, 5);
        }
        
        // Desenhar simula√ß√£o no canvas
        function drawSimulation(ctx, force, mass, acceleration) {
            const width = ctx.canvas.width;
            const height = ctx.canvas.height;
            
            // Limpar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Desenhar plano inclinado
            ctx.fillStyle = '#95a5a6';
            ctx.beginPath();
            ctx.moveTo(50, height - 50);
            ctx.lineTo(width - 50, height - 50);
            ctx.lineTo(width - 100, height - 100);
            ctx.lineTo(0, height - 100);
            ctx.closePath();
            ctx.fill();
            
            // Desenhar bloco
            const blockSize = 40 + mass * 2;
            const blockX = 200;
            const blockY = height - 150 - (acceleration * 5);
            
            ctx.fillStyle = '#e74c3c';
            ctx.fillRect(blockX, blockY, blockSize, blockSize);
            
            // Desenhar seta de for√ßa
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(blockX, blockY + blockSize/2);
            ctx.lineTo(blockX - force, blockY + blockSize/2);
            ctx.stroke();
            
            // Cabe√ßa da seta
            ctx.fillStyle = '#2c3e50';
            ctx.beginPath();
            ctx.moveTo(blockX - force, blockY + blockSize/2);
            ctx.lineTo(blockX - force + 10, blockY + blockSize/2 - 5);
            ctx.lineTo(blockX - force + 10, blockY + blockSize/2 + 5);
            ctx.closePath();
            ctx.fill();
            
            // Desenhar r√≥tulos
            ctx.fillStyle = '#2c3e50';
            ctx.font = '14px Arial';
            ctx.fillText(`F = ${force}N`, blockX - force/2 - 15, blockY + blockSize/2 - 10);
            ctx.fillText(`m = ${mass}kg`, blockX + blockSize/2 - 15, blockY - 10);
            ctx.fillText(`a = ${acceleration}m/s¬≤`, blockX + blockSize + 10, blockY + blockSize/2);
        }
        
        // Calcular f√≠sica da simula√ß√£o
        function calculatePhysics() {
            const force = parseInt(document.getElementById('forceSlider').value);
            const mass = parseInt(document.getElementById('massSlider').value);
            
            if (mass === 0) {
                showNotification('A massa n√£o pode ser zero.', 'error');
                return;
            }
            
            const acceleration = force / mass;
            document.getElementById('accelerationValue').value = acceleration.toFixed(2);
            
            // Atualizar canvas
            const canvas = document.getElementById('physicsCanvas');
            const ctx = canvas.getContext('2d');
            drawSimulation(ctx, force, mass, acceleration);
            
            showNotification('C√°lculo realizado com sucesso!', 'success');
        }
        
        // Abrir editor LaTeX
        function openLatexEditor() {
            document.getElementById('latexInput').value = currentEquation;
            showTab('latex');
        }
        
        // Inserir s√≠mbolo no editor LaTeX
        function insertSymbol(symbol) {
            const latexInput = document.getElementById('latexInput');
            const startPos = latexInput.selectionStart;
            const endPos = latexInput.selectionEnd;
            
            latexInput.value = latexInput.value.substring(0, startPos) + 
                              symbol + 
                              latexInput.value.substring(endPos);
            
            // Reposicionar o cursor
            const newPos = startPos + symbol.length;
            latexInput.setSelectionRange(newPos, newPos);
            latexInput.focus();
        }
        
        // Atualizar visualiza√ß√£o LaTeX
        function updateLatexPreview() {
            const latexCode = document.getElementById('latexInput').value;
            const previewDiv = document.getElementById('latexPreview');
            
            // Adicionar delimitadores LaTeX se n√£o existirem
            let formattedLatex = latexCode;
            if (!formattedLatex.includes('$$') && !formattedLatex.includes('$')) {
                formattedLatex = '$$' + formattedLatex + '$$';
            }
            
            previewDiv.innerHTML = formattedLatex;
            
            // Renderizar com MathJax
            MathJax.typesetPromise([previewDiv]).catch(function(err) {
                console.error('Erro ao renderizar LaTeX:', err);
                previewDiv.innerHTML = '<span style="color: red;">Erro na sintaxe LaTeX</span>';
            });
            
            currentEquation = latexCode;
        }
        
        // Aplicar equa√ß√£o LaTeX
        function applyLatexEquation() {
            document.getElementById('simulationEquation').value = currentEquation;
            showTab('teacher');
            showNotification('Equa√ß√£o aplicada com sucesso!', 'success');
        }
        
        // Gerar quest√µes com DeepSeek (INTEGRA√á√ÉO REAL)
        async function generateQuestionsWithDeepSeek() {
            const topic = document.getElementById('deepseekTopic').value;
            const equation = document.getElementById('deepseekEquation').value;
            const questionType = document.getElementById('questionType').value;
            const questionCount = document.getElementById('questionCount').value;
            const difficulty = document.getElementById('difficultyLevel').value;
            
            if (!apiKey) {
                showNotification('Por favor, configure sua chave da API DeepSeek primeiro.', 'error');
                return;
            }
            
            if (!topic || !equation) {
                showNotification('Por favor, preencha o t√≥pico e a equa√ß√£o.', 'error');
                return;
            }
            
            // Mostrar loading
            document.getElementById('deepseekLoading').style.display = 'block';
            document.getElementById('questionsResult').style.display = 'none';
            document.getElementById('generateBtn').disabled = true;
            
            try {
                // Preparar o prompt para a API
                const prompt = `Gere ${questionCount} quest√µes de ${difficulty} dificuldade do tipo ${questionType} sobre o t√≥pico ${topic} usando a equa√ß√£o ${equation}. 
                Para cada quest√£o, forne√ßa tamb√©m uma resposta explicativa. Formate a sa√≠da em HTML com cada quest√£o dentro de uma div com classe 'question-item'.`;
                
                // Fazer a chamada para a API DeepSeek
                const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            {
                                role: 'system',
                                content: 'Voc√™ √© um assistente especializado em criar quest√µes de f√≠sica para estudantes.'
                            },
                            {
                                role: 'user',
                                content: prompt
                            }
                        ],
                        max_tokens: 2000,
                        temperature: 0.7
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`Erro na API: ${response.status} ${response.statusText}`);
                }
                
                const data = await response.json();
                
                // Extrair o conte√∫do da resposta
                const generatedContent = data.choices[0].message.content;
                
                // Exibir as quest√µes geradas
                const questionsContainer = document.getElementById('generatedQuestions');
                questionsContainer.innerHTML = generatedContent;
                
                // Mostrar resultados
                document.getElementById('questionsResult').style.display = 'block';
                
                showNotification(`${questionCount} quest√µes geradas com sucesso usando DeepSeek AI!`, 'success');
                
            } catch (error) {
                console.error('Erro ao chamar a API DeepSeek:', error);
                
                // Fallback para quest√µes simuladas em caso de erro
                showNotification('Falha ao conectar com a API. Gerando quest√µes simuladas...', 'error');
                generateSimulatedQuestions(topic, equation, questionType, questionCount, difficulty);
                
            } finally {
                // Esconder loading e reativar o bot√£o
                document.getElementById('deepseekLoading').style.display = 'none';
                document.getElementById('generateBtn').disabled = false;
            }
        }
        
        // Gerar quest√µes simuladas (fallback)
        function generateSimulatedQuestions(topic, equation, type, questionCount, difficulty) {
            const questionsContainer = document.getElementById('generatedQuestions');
            questionsContainer.innerHTML = '';
            
            for (let i = 1; i <= questionCount; i++) {
                const questionElement = document.createElement('div');
                questionElement.className = 'question-item';
                questionElement.innerHTML = `
                    <h3>Quest√£o ${i} (${difficulty})</h3>
                    <p>${getExampleQuestion(topic, equation, type, difficulty, i)}</p>
                    <details>
                        <summary>Ver Resposta</summary>
                        <p>Resposta exemplo para a quest√£o ${i} sobre ${topic} usando a equa√ß√£o ${equation}.</p>
                    </details>
                `;
                questionsContainer.appendChild(questionElement);
            }
            
            // Mostrar resultados
            document.getElementById('questionsResult').style.display = 'block';
        }
        
        // Obter quest√£o de exemplo baseada nos par√¢metros
        function getExampleQuestion(topic, equation, type, difficulty, index) {
            const questions = {
                'conceituais': [
                    `Explique o significado de cada vari√°vel na equa√ß√£o ${equation} no contexto de ${topic}.`,
                    `Qual √© a import√¢ncia da equa√ß√£o ${equation} para o estudo de ${topic}?`,
                    `Descreva uma situa√ß√£o real onde a equa√ß√£o ${equation} √© aplicada.`
                ],
                'calculos': [
                    `Calcule o valor de F na equa√ß√£o ${equation} quando m = 10kg e a = 5m/s¬≤.`,
                    `Se na equa√ß√£o ${equation}, F = 100N e m = 20kg, qual √© o valor de a?`,
                    `Determine o valor de m na equa√ß√£o ${equation} quando F = 150N e a = 6m/s¬≤.`
                ],
                'aplicacao': [
                    `Aplique a equa√ß√£o ${equation} para resolver um problema sobre ${topic}.`,
                    `Como voc√™ usaria a equa√ß√£o ${equation} para explicar o fen√¥meno X em ${topic}?`,
                    `Projete um experimento simples que demonstre a validade da equa√ß√£o ${equation}.`
                ],
                'desafio': [
                    `Derive a equa√ß√£o ${equation} a partir dos princ√≠pios fundamentais de ${topic}.`,
                    `Analise as limita√ß√µes da equa√ß√£o ${equation} em situa√ß√µes extremas.`,
                    `Generalize a equa√ß√£o ${equation} para aplicar a um contexto mais amplo.`
                ]
            };
            
            const questionList = questions[type] || questions['conceituais'];
            return questionList[index % questionList.length];
        }
        
        // Salvar quest√µes
        function saveQuestions() {
            showNotification('Quest√µes salvas com sucesso!', 'success');
        }
        
        // Salvar simula√ß√£o
        function saveSimulation() {
            const title = document.getElementById('simulationTitle').value;
            const description = document.getElementById('simulationDescription').value;
            const equation = document.getElementById('simulationEquation').value;
            
            if (!title || !description) {
                showNotification('Por favor, preencha todos os campos obrigat√≥rios.', 'error');
                return;
            }
            
            // Adicionar √† lista de simula√ß√µes
            simulations.push({
                title: title,
                description: description,
                equation: equation
            });
            
            // Limpar formul√°rio
            document.getElementById('simulationTitle').value = '';
            document.getElementById('simulationDescription').value = '';
            
            showNotification('Simula√ß√£o criada com sucesso!', 'success');
        }
        
        // Mostrar notifica√ß√µes
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            
            // Ocultar notifica√ß√£o ap√≥s 5 segundos
            setTimeout(() => {
                notification.style.display = 'none';
            }, 5000);
        }
        
        // Inicializar a aplica√ß√£o quando carregada
        window.onload = init;
    </script>
</body>
</html>
